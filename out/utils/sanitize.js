// Generated by IcedCoffeeScript 1.3.3g
(function() {

  module.exports = function(field, val) {
    var item, result, _i, _len;
    if (field.type === 'text') return val.trim();
    if (field.type === 'textarea') return val.trim();
    if (field.type === 'wysiwyg') {
      return val.split("\n").join(' ').split("\r").join(' ').trim();
    } else if (field.type === 'choice') {
      return val.trim();
    } else if (field.type === 'date') {
      return Math.floor(val / 1000) * 1000;
    } else if (field.type === 'tags') {
      if (!(val instanceof Array)) return [];
      result = [];
      for (_i = 0, _len = val.length; _i < _len; _i++) {
        item = val[_i];
        result.push(item.trim());
      }
      return result;
    } else {
      return val;
    }
  };

}).call(this);
